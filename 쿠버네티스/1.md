## 왜 쿠버네티스인가?

모놀리식 아키텍쳐
- 전통적인 아키텍쳐, 기존에 사용하던 서비스 방법
- 서비스가 하나의 어플로 돌아가는 구조
- 기존의 개발 방식을 사용해 개발하여 간단히 배포
- 하나의 서비스 또는 어플이 하나의 거대한 아키텍쳐
- 다양한 기능을 동작하는 서비스를 서버에서 실행하여 서비스

단점  
- 모놀리식 서비스 아키텍처를 스케일링하면
    - 기존의 어플리케이션 그대로 복제하여 로드밸런싱
    - 불필요한 서비스까지 모두 복제
- 종속적인 라이브러리 충돌
    - 각각의 기능들은 서로 다른 기능을 제공하여 버전의 종속성을 필요한 경우가 존재
    - 각 기능의 따른 라이브러리를 매 업데이트마다 관리하기가 어렵다.
- 조금만 수정해도 전체 빌드 및 배포 필요
    - 소스코드 전체가 하나로써 동작하기 작은 수정만 있더라도 전체를 빌드하여 다시 배포해야한다.
    - 프로그램의 크기가 어느정도 커지면 한 번만 컴파일해서 전체 테스트를 돌려도 30분 내지 수 시간 소모한다.
    - 하루에 버그가 여러개로 순차적으로 발견되면 지옥을 경험한다.

마이크로 서비스 아키텍쳐
- 모놀리식 아키텍쳐의 대안으로 반대되는 개념
- 애플리케이션의 각각의 기능을 분리하여 개발 및 관리
- 마이크로 서비스의 장점
    - 서비스 단위 빠른 개발: 개발자가 특정 비즈니스 로직에 대해서만 집중하여 개발 가능하다.
    - 배포 용이 : 개별 서비스 단위로 개발, 패키징, 빌드, 테스트, 배포로 각 서비스 마다 유연한 스케줄
    - 서비스 단위 고효율 저비용 Scale-Out 구조 : 서비스 단위로 스케일링이 가능하여 불필요한 서비스는 줄이고 더 많은 자원이 필요한 서비스는 확장이 가능하다.
- 분산 시스템 환경에서 Transaction 보장, 테스트, 배포, 관리가 복잡하다.

#### 컨테이너가 해결한다.
- 컨테이너는 가상머신을 사용해 각 마이크 서비스를 격리하는 기술이다.
- 컨테이너는 가상머신처럼 하드웨어를 전부 구현하지 않기 때문에 매우 빠른 실행이 가능하다.
- 프로세스의 문제가 발생할 경우 컨테이너 전체를 조정해야 하기 때문에 컨테이너에 하나의 프로세스를 실행하도록 하는것이 좋다.

#### 컨테이너를 격리하는 기술
- 리눅스 네임스페이스 : 각 프로세스가 파일 시스템 마운트, 네트워크 , 유저(uid), 호스트 네임(uts) 등에 대해서 시스템에 독립 뷰를 제공한다.
- 리눅스 컨트롤 그룹: 프로세스로 소비할수 있는 리소스의 양(CPU,메모리, I/O, 네티워크 대역대, device노드 등)을 제한한다.

