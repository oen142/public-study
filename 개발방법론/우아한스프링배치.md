## 우아한 스프링 배치 시작하기에 앞서

- 스프링 배치와 관련된 경험이나 기본들 얘기할 예정이다.
- 회의실 마다 재밌는 문구들이 있다 명언들 격언들,
 우리회사가 원하는 인재 자기보다 경험이 적은사람한테 설득당할수 있고, 경험이 많은 사람을 설득할 수 있어야 한다.
- 한명씩 사유를 하나하나 보았다. 배치의 경험이 많은 사람들이 있을수 있고, 경험이 적은분들도 있을것이다.

- 기억보단 기록을 jojoldu.tistory.com 에서 공부한걸 정리한다.
- 스프링 배치의 메타 테이블의 이해

강연자는 여러 도메인에서 Batch시스템 구성 개발
- 우아한 주문, 배민 포인트, 우아한 정산

오늘 발표는
- 기본편
    - 활용편을 위한 기본 개념 & 오해풀기
- 활용편
    - 실제 업무에서의 스프링 배치
- 스프링 배치를 한번이라도 써본 분들이 대상
- XML기반이 아닌 JavaConfig기반으로 진행된다.
 
## 기본편
- 배치 어플리케이션이란?
    - 우리가 흔히 말하는 웹 API가 아니라 배치애플리케이션이라는게 다른게 있나?
    - 정의를 어떻게 할지 싶다가. 위키피디아
    - 배치 처리는컴퓨터에서 사람과 상호작용 없이 이어지는 프로그램(작업)들의 실행이다.
    - 사용자와의 상호 작용이 주력인 웹 애플리케이션과는 지향점이다르다.

- Web vs Batch (1)
    - Web 요청1 응답1 요청2
        - 계속 빠르게 피드백이 왔다갔다해야한다.
        - 실시간 처리/ 상대적인 속도 / QA 용이성
        - 포털이나 어드민 웹서비스 클릭 뱅글뱅글 로딩 페이지 데이터가 올때까지 어떤 사람의 신경을 분산을 시키면
        느려도 체감이 안된다. 눈속임 할 방법이 많다.
        - QA, 테스터분들이 QA할때 웹애플리케이션같은경우 버그같은걸 많이 찾는다.
    - Batch 요청1 
        - 배치 애플리케이션에서 완결 나는 시간이 얼마나 걸리든 사용자의 피드백은 신경쓰지 않는다.
        - 후속처리 / 절대적인 속조 / QA 복잡성
        - 시간 흘러가는걸 볼수밖에 없으니까 원하는 속도가 나와야 한다.
        - 코드 까보지 않는 이상 DB랑 데이터 어떻게 들어갔나 볼수 없기때문에 QA하기 힘들다.
        - 테스트코드가 더 필요한 곳이 배치가 많아야 한다.

- Spring batch 와 Quartz
    - 질문이 매번 올라온다. 배치가 좋나요 쿼츠가 좋나여, 스프링 스케쥴러가 좋나요

- 배치는
    - API호출이든 어떻게든 돌면 지혼자 실행되는걸 말한다. 
    
- Quartz
    - 스케줄링 프레임워크
    - ex : 매시간 / 마지막 주 금요일에 실행
    - Spring batch의 보안제 역할이지 대체제가 아니다. (2)

- 배치 어플리케이션이 필요한 상황
    - 일정 주기로 실행되어야 할때
    - 실시간 처리가 어려운 대량의 데이터를 처리할때
    
    - 100만 500만건은 인덱스만 걸어도 API를 호출하면되지만
    - 1억건 넘게 되면API로 하기 힘들다.
    - 실시간의 액션이 아니기 때문에 웹 API가 아닌 대량의 데이터를 처리할때 쓴다.
    - 한달에 한번 실행이 된다는 의미는 한달동안 쌓인 모든 데이터가 대상이라는 의미
    - 즉 대용량 데이터 처리가 절대적인 요구사항
    
    - DB짜고 쿼리추상화가 기능 레벨에서 개발자는 비즈니스 로직만 신경쓰고, 프레임웤단위에서 알아서 해줌
    - 스프링 배친에서는 모든 데이터를 메모리에 쌓지 않는 조회 방식이 기본방식
    - DB를 기준으로 하면 Paging 혹은 Cursor로 pageSize만큼만 읽어오고 chunkSize만큼만 commit 한다.
    - 만건식만 끊어서 가져와라 하는등 DB의 커서를 이용해서 Streamming방식으로 꺼내온다
    
    - jpaRepository.findAll() 방식으로 진행하면 안된다.
    
- Job/Step/Tasklet 등등(3)
    
   