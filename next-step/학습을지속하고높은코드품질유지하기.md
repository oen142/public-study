#### 1단계 - 단위테스트 연습
- 내가 사용하는 API 사용법을 익히기 위한 학습테스트에서 시작
    - 자바 String 클래스의 다양한 메소드(함수) 사용법
    - 자바 ArrayList에 데이터를 추가, 수정 삭제하는 방법
    
#### 2단계 - TDD연습

#### 3단계 - 메소드 분리 리팩토링 연습
- 한 메서드에 오직 한단계의 들여쓰기만 한다.
- else 예약어 쓰지 않기


#### 클래스 분리 리팩토링 연습
- 모든 원시값과 문자열을 포장한다.

#### 장난감 프로젝트 난이도 높이기

- TDD, 리팩토링 연습하기 좋은 프로그램 요구사항
    - 게임과 같이 요구사항이 명확할 프로그램으로 연습
    - 의존관계가 없이 연습
    - 약간은 복잡한 로직이 있는 프로그램

- 연습하기 좋은 예
    - 로또
    - 사다리 타기
    - 볼링 게임 점수판
    - 체스 게임
    - 지뢰 찾기 게임

#### 의존관계 추가를 통한 난이도 높이기
- 웹, 모바일 UI, 데이터베이스와 같은 의존관계를 추가

테스트 하기 쉬운코드와 테스트하기 어려운 코드를 보는눈
테스트 하기 어려운 코드를 테스트 하기 쉬운 코드로 설계하는 감

#### 현장과 같은 환경으로 연습하기
- 컴파일 에러를 최소화 하면서 리팩토링하기
- ATDD 기반으로 응용 애플리케이션 개발하기
    - 큰단위에 대한 테스트 애플리케이션 개발 경험
- 레거시 애플리케이션에 테스트 코드 추가해 리팩토링 하기
- 요구사항이 명확한것 부터 하자.


- 레거시 코드 리팩토링
    - Service Layer에 핵심 로직이 구현되어 있다면 이 부분을 먼저 공략
    - Service Layer에 있는 로직을 Domain으로 로직을 점진적으로 이동
- Domain 객체에 로직이 구현되어 있는데 객체의 복잡도가 높은 객체를 먼저 공략
    - 단위 테스트가 없으면 단위 테스트 추가
    - 1단계는 메소드 분리
    - 원시값과 문자열을 포장 또는 일급 콜렉션 원칙에 따라 새로운 클래스로 로직 분리
- sonarqube와 같은 정적 분석 도구를 활용해 복잡도 높은 객체 찾을수 있다.

- 클래스가 워낙 많기 때문에 어느부분부터 리팩토링 할줄을 모르겠다.
- 버그가 발생했거나 새로운 기능을 추가해야할때 거기서 부터 시작한다.
- if문 있는거 하나라도 시작하고 복잡도 높은 클래스로 이동하자.

- 레거시 코드 리팩토링시 주의할점
    - 비지니스 멈춘 상태에서 일정기간동안 리팩토링 하는 시간을 가지는 방식으로 진행하지마 마라
    - 서비스를 운영하는 상태에서 기능 추가/변경과 리팩토링을 병행하는 방식으로 진행해라
    
- 팀의 일부 개발자에게 리팩토링 업무를 전담시키는 방식으로 진행하지 마라
    - 서비스 개발에 참여하는 모든 구성원이 리팩토링을 습관화 하도록 해야한다.
    - 짧은 시간내에 클린코드를 만들려고 하지마라 2년정도 기다려라

#### 높은 코드 품질을 유지하는 환경만들기
- 코드 품질을 높게 유지하려면 코드 품질을 유지할수 있는 문화/환경을 만드는 것이 특히 중요하다.
- 개발문화도 한순간 좋아지진 않는다. 점진적으로 바꾸는게 좋다.

- 1단계
    - 새롭게 구현하는 코드, legacy코드중 개선하는 코드에 대해 테스트 코드를 구현하고, 리팩토링하는 경험을 한다.
    - 단위 테스트가 힘들다면 핵심 기능에 대한 인수 테스트 (Acceptance Test)라도 추가한다.
- 2단계
    - Jenkins, travis와 같은 지속적 통합 도구를 적용해 지속적으로 테스트 코드를 실행할수 있는 환경을 구축한다.
    - 테스트 코드를 많이 만드는것보다 100% 성공하는 환경을 유지하는것이 더 중요하다.
    - 실패하는 테스트가 있다면 100% 성공 상태로 만들거나 삭제해서 100%를 만든다.
- 3단계
    - sonarqube와 같은 정적 분석 도구 적용한다.
- 4단계
    - 코드리뷰 문화를 만든다.
    - 코드를 배포하기 전에 반드시 한명 이상의 리뷰어가 리뷰하는 문화를 만든다.
    
- 한번에 모든 warning을 해결하기는 힘들다.

- 마치며...
의식적인 연습을 통해 지속적으로 성장하는 개발자가 되기를 기대해 본다.
몰입 경험을 통해 좀 더 행복한 삶을 만들어 가기를 기대해 본다.
동의되지 않는 권위에 굴복하지 않으며, 자신의 색깔을 유지하고 자신이 하고 싶은 일을 찾아야한다.
