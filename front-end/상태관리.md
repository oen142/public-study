## 데이터 상태 관리 그것을 알려주마!

### FE에서 상태관리란?
- 프론트엔드에서 상태관리가 왜 중요한가요?
    - 화면 한개에서 계속 바꾸는게 싱글페이지 전략이 이젠 쓰임

- 무엇이 문제인가요?
    - 상태는 각각의 뷰에서, 때로는 뷰와 상관없이 필요에 의해서, 실시간, 비동기로 계속 바뀜
    - 어려운점은 비동기로 받기 때문에 상태가 언제 어떻게 왜 변화했는지 알수가 없음

- 상태관리에 대해서 많은 개발자들이 고민을 함

- 상태관리 패러다임의 변화
    - 2010 jquery
    - 2012 앵귤러
    - 2015 리덕스



### jQuery와 상태관리

- 여기 마크업에 jQuery 바르는데 며칠이나 걸려요? ㅋㅋㅋ
- 자바스크립트는 동작을 위해서 만들어진 언어
- 기본적으로 jQ 기본은 html을 바르는것이 원칙
- Element A <- 동작 A
- Element B <- 동작 B
- Element C <- 동작 C

- 베이스에 다가 바르는 습성이 있다.


- 순서
    - Element A를 선택해서 상태를 가져옴
    - Element C를 선택해서 상태를 가져옴
    - 가져온 데이터를 조합
    - API호출
    - 응답 값이 내려옴
    - 응답 값 정제
    - Element B를 선택해서 상태 업데이트
    
    - 문제 API 호출 중간에 Element A가 바뀌면 문제가 생김.
    - 이 이유는 베이스가 돔이기 때문이다.
    - jQ 레거시 회사가면 힘들다 ㅋㅋㅋㅋ
    - jQ를 안쓰는 이유이기 하다.

- 정리
    - jQ개발은 DOM에 jQ로 동작을 입히는것
    - 돔이 베이스
    - 각 엘레멘트에 상태를 저장
    - 서로 다른 엘레멘트의 상태변화 추적이 어려움
    
### 앵귤러js와 상태관리

- 기존 방식은 변경이 필요한 대상 돔요소를 먼저 선택하고, 이후 필요한 작업을 수행하는 형태로 진행하게 됩니다.
- 반면 앵귤러 JS는 출력할 데이터에 초점을 맞추어 작업이 수행되며, 데이터의 값이 변경되면 출력도 자동적으로 수행되도록 처리됩니다.

- 기본개념
    - 기본적으로 모듈이라는 개념을 사용(컴포넌트와 비슷한 개념)
    - 컨트롤러라는 지시자를 이용하여 마크업상에 영역 생성
    - 돔에 접근하여 값(상태)를 변경하는 코드는 없다.
    - 자바스크립트에서 변수에다가 값을 바꿨을 뿐인데 화면이 바뀐다.
    
- 앵귤러JS 상태관리 무엇이 문제인가요?
    - 서비스에서 데이터를 가져온다.
    - 가져온 데이터 조합
    - API호출
    - 응답 값이 내려옴
    - 응답 정제
    - 모듈 B의 상태 업데이트
   
### Redux에서 상태관리

- 상태(데이터)를 언제 왜 어떻게 변화했는지 알기가 어려움.
- FLUX
- CQRS
- Event Sourcing

- Flux
    - Action -> Dispatcher -> Store -> View -> Action -> Dispatcher

- CQRS(Command and Query Responsibility Segregation)
    

- 리덕스의 문제가 무엇인가요?
    - 많은 보일러 플레이트
    - 과한 기술일수도 있다?
    - 어렵다...    
    
- 정리
    - FE앱은 상태(데이터)들위 유기적인 집합체
    - 상태 관리는 돔의 변화와 비동기 동작간의 개념 충돌등 여러 이슈가 발생하였다.
    - 상태 관리에 대한 다양한 접근 방법이 있었고 현재로 올수록 돔 중심에서 상태 중심의 개발 방법이 제시
    - 관점의 변화가 필요하고 이에 따라 개발 방식 또한 변화 되어야 한다.
    - 하지만 현재는 레거시와 앵귤러 리덕스 등이 혼재하기 때문에 경우에 따라 빠르게 관점의 적응이 필요
    - 사실 정답은 없다. 상태관리 방법은 앱 전체의 구조 아키텍쳐를 결정하는 매우 중요한 요소이기 때문에
    앱 개발 시작전 치열하게 고민해야 한다.