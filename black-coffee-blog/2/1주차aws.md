우리는 인프라 환경을 어떻게 구축해야 하는가? - AWS 상담편

## 도입부
최근 내가 속한 팀에서 서버를 이전해야겠다고 마음을 먹었다.
현재 우리는 cafe24호스팅 서버에서 웹 호스팅을 하고 있다.
간략하게 설명을 해주자면, 한 서버에 여러명이 입주해있는 형식이라고 보면 된다.
그러다 보니 권한도 제한적이고 특히 다른 서버의 문제가 생기면 우리 서버에 영향을 끼친다는 점이다.

과거 이때문에 cafe24에 문의를 해봤는데, 답은 다음과 같이 왔다.
 
aws 클라우드 환경으로 이전하려는 이유는 크게 두가지 이유였는데,

정적 콘텐츠 호스팅(CDN) , S3의 편리함
서버 모니터링 환경 구성
을 하기 위해서 옮기기로 결정을 했다.

그래서 내부 개발자들 끼리 퇴근후 시간을 내서 AWS에 관련한 지식을 습득을 하고
간단하게 서버 구축을 해보면서 시간을 보내다가,
우리가 맞는 방향으로 가는지가 궁금해져서 이곳저곳을 알아보게 되었다.

특히 AWS 온라인세미나에 참석을 해서 많은 지식을 습득했었는데, 마지막 설문조사에
도입을 하고 싶으나 전문적인 지식이 부족하다고 기술을 했었다.
그러자 AWS 매니저분께서 우리회사로 전화를 했었고, 구체적인 도움을 받을수 있게 되었다.

### 준비물
구체적인 아키텍쳐와 AWS서비스 사용방법에 대해서 궁금한점이 생겼을 경우 요청을 해서 도움을 받으면 된다고 한다.
그래서 사전에 설문지를 작성하고, 우리 내부의 아키텍쳐 구상도를 그려서 제출을 하게 되면,
AWS관련 개발자가 온라인, 오프라인으로 상담을 해준다 (현재는 코로나때문에 온라인만 하는것 같다.)

AWS에서 상담을 할때 크게 두가지를 본다.
1. 아키텍쳐
2. 안정성, 운영효율성,성능,비용최적화,보안

#### 아키텍쳐
우리는 현재 코드이그나이터(php) 코드로 짜여진 서버로 구성되어 있다.
코드이그나이터같은 경우에는 경량화 프레임워크로서 누구나 쉽게 php용 백엔드 코드를 짤수 있다는 장점이 있다.
하지만 서비스가 점점 늘어남에 따라 이 점이 문제점으로 다가오기 시작했다.
특히 국내 개발자 풀이 적은 프레임워크라서 사람 구인하기도 힘들다고 생각이 든다.
그래서 스프링기반으로 서버를 리팩토링 하기로 구상을 하고있고, 아키텍쳐도 스프링위주의 서버를 구상하기로 했다.

#### 그외 질의내용
- 안정성
    - 백업 및 복구
    - 가용성 / 이중화
    - 관리형 서비스 활용
- 운영 효율성
    - 구성 관리 및 자동화
    - 모니터링
- 성능
    - DB활용
    - Cache 사용
    - CDN 사용
- 비용 최적화
    - RI, Spot 활용
    - 인스턴스 타입 선택
    - 스토리지 비용 최적화
- 보안
    - 계정 접근 관리
    - VPC 활용
    - 로그관리
    
이 항목에 맞춰서 우리가 서비스를 사용할때 드는 고민들을 적으면 된다.
이와 최적화를 위해서 AWS가 제공하는 기본서를 읽고 어떻게 최적화를 할지 고민을 하고
내가 사용할 서비스들에 대해서 질문을 적으면 된다.

우리가 질문한 내용중에서 잘못된것이 있을수도 있다.
한번 생각을 해보고 나름 답변을 내리고 다음글을 보면 좋을것 같다.