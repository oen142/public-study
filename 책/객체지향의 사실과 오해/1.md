## 협력하는 객체들의 공동체
- 협력하는 사람들
    - 커피 공화국의 아침
    - 요청과 응답으로 구성된 협력
    - 역할과 책임
- 역할, 책임, 협력
    - 기능을 구현하기 위해 협력하는 객체들
    - 역할과 책임을 수행하며 협력하는 객체들
- 협력 속에 사는 객체
    - 상태와 행동을 함께 지닌 자율적인 객체
    - 협력과 메시지
    - 메서드와 자율성
- 객체지향의 본질
    - 객체를 지향하라
 
## 이상한 나라의 객체
- 객체지향과 인지 능력
- 객체, 그리고 이상한 나라
    - 이상한 나라의 앨리스
    - 앨리스 객체
- 객체, 그리고 소프트웨어 나라
    - 상태
    - 행동
    - 식별자
- 기계로서의 객체
- 행동이 상태를 결정한다
- 은유와 객체
    - 두 번째 도시 전설
    - 의인화
    - 은유
    - 이상한 나라를 창조하라

## 타입과 추상화
- 추상화를 통한 복잡성 극복
- 객체지향과 추상화
    - 모두 트럼프일 뿐
    - 그룹으로 나누어 단순화하기
    - 개념
    - 개념의 세 가지 관점
    - 객체를 분류하기 위한 틀
    - 분류는 추상화를 위한 도구다.
- 타입
    - 타입은 개념이다
    - 데이터 타입
    - 객체와 타입
    - 행동이 우선이다
- 타입의 계층
    - 트럼프 계층
    - 일반화/특수화 관계
    - 슈퍼타입과 서브타입
    - 일반화는 추상화를 위한 도구다
- 정적 모델
    - 타입의 목적
    - 그래서 결국 타입은 추상화다
    - 동적 모델과 정적 모델
    - 클래스

## 역할 책임 협력
- 협력
    - 요청하고 응답하며 협력하는 사람들
    - 누가 파이를 훔쳤지?
    - 재판 속의 협력
- 책임
    - 책임의 분류
    - 책임과 메시지
- 역할
    - 책임의 집합이 의미하는 것
    - 판사와 증인
    - 역할이 답이다
    - 협력의 추상화
    - 대체 가능성
- 객첵의 모양을 결정하는 협력
    - 흔한 오류
    - 협력을 따라 흐르는 객체의 책임
- 객체지향 설계 기법
    - 책임-주도 설계
    - 디자인 패턴
    - 테스트-주도 개발

## 책임과 메시지
- 자율적인 책임
    - 설계의 품질을 좌우하는 책임
    - 자신의 의지에 따라 증언할 수 있는 자유
    - 너무 추상적인 책임
    - `어떻게`가 아니라 `무엇`을
    - 책임을 자극하는 메시지
- 메시지와 메서드
    - 메시지
    - 메서드
    - 다형성
    - 유연하고 확장 가능하고 재사용성이 높은 협력의 의미
    - 송신자와 수신자를 약하게 연결하는 메시지
- 메시지를 따라라
    - 객체지양의 핵심, 메시지
    - 책임-주도 설계 다시 살펴보기
    - What/Who 사이클
    - 묻지말고 시켜라
    - 메시지를 믿어라
- 객체 인터페이스
    - 인터페이스
    - 메시지가 인터페이스를 결졍한다
    - 공용 인터페이스
    - 책임,메시지,그리고 인터페이스
- 인터페이스와 구현의 분리
    - 객체 관점에서 생각하는 방법
    - 구현
    - 인터페이스와 구현의 분리 원칙
    - 캡슐화
- 책임의 자율성이 협력의 품질을 결정한다.

## 객체 지도
- 기능 설계 대 구조 설계
- 두 가지 재료: 기능과 구조
- 안정적인 재료: 구조
    - 도메인 모델
    - 도메인의 모습을 담을 수 있는 객체지향
    - 표현적 차이
    - 불안정한 기능을 담는 안정적인 도메인 모델
- 불안정한 재료: 기능
    - usecase
    - usecase의 특성
    - usecase는 설계 기법도 객체지향 기법도 아니다
- 재료 합치기: 기능과 구조의 통합
    - 도메인 모델, usecase, 그리고 책임-주도 설계
    - 기능 변경을 흡수하는 안정적인 구조
 
## 함께 모으기
- 커피 전문점 도메인
    - 커피 주문
    - 커피 전문점이라는 세상
- 설계하고 구현하기
    - 커피를 주문하기 위한 협력 찾기
    - 인터페이스 정리하기
    - 구현하기
- 코드와 세 가지 관점
    - 코드는 세 가지 관점을 모두 제공해야 한다
    - 도메인 개념을 참조하는 이유
    - 인터페이스와 구현을 분리하라
- 추상화 기법
    
   
   
## 협력하는 객체들의 공동체

- 모든 과정속에는 손님 캐시어 바리스타 사이의 암묵적인 협력 관계가 존재한다.

- 역할이 존재하기 때문이다.
- 협력하는 과정에서 책임을 다하기 때문이다.
- 손님은 카페인을 채우기 위해 커피를 주문할 책임을 수행한다. 
- 캐시어는 손님의 주문을 받는 책임을 성실히 수행한다.
- 바리스타는 주문된 커피를 제조하는 책임을 수행한다.

- 커피 주문이라는 협력에 참여하는 모든 사람들은 커피가 정확하게 주문되고 주문된 커피가
손님에게 정확하게 전달될 수 있또록 맡은바 *역할*과 *책임*을 다하고 있는 것이다.

역할, 책임, 협력은 우리가 삶을 영위하기 위해 다른 사람과 접촉하는 모든 곳에 존재한다.

캐시어가 커피가 준비됐다는 사실을 손님에게 알리는 책임을 성실히 수행한 모양이다.
손님이라는 역할을 끝낼 때가 왔다.
제조된 커피를 받아 들고 일자리로 돌아가는 것으로 손님으로서의 책임을 완수할 생각이다.
커피를 받아들고 엘리베이터를 타고 나면 커피 주문이라고 불리는 협력관계는 깔끔하게 마무리 된다.


#### 요청과 응답으로 구성된 협력

ㅇ일상에서 발생하는 대부분의 문제는 개인 혼자만의 힘으로 해결하기 버거울 정도로
복잡하기에 사람들은 도움을 받아 문제 해결하는것을 선호한다.
- 문제에 마주치면 문제 해결에 필요한 지식 또는 서비스를 제공해줄 수 있는 사람에게 요청(Request)을 한다.

요청은 연쇄적으로 발생한다.

손님 -> (커피를 주문한다.) -캐시어 -> (커피를 제조하라) -> 바리스타

요청을 받은 사람은 주어진 책임을 다하면서 필요한 지식이나 서비스를 제공한다.
즉 다른 사람의 요청에 응답(Response)한다. 요청이 연이어 발생하기 때문에 응답역시
요청의 방향과 반대 방향으로 연쇄적으로 전달된다.

바리스타 (커피완성) -> 캐시어 (커피완성)-> 손님

요청과 응답을 통해 다른사람과 협력(collaboration) 공동체를 형성하게 만든다.
협력의 성공은 특정한 역할을 맡은 각 개인이 얼마나 요청을 성실히 이행하는 가에 달렸다.


#### 역할과 책임

사람들은 다른 사람과 협력하는 과정 속에서 특정한 역할(role)을 부여받는다.
- 손님
- 캐시어
- 바리스타
라는 역할이 존재한다.
역할은 어떤 협력에 참여하는 특정한 사람이 협력 안에서 차지하는 책임이나 임무를 의미한다.

어떤 사람이 손님이라는 역할을 맡았다면 그 사람은 커피를 주문하는 임무를 맡게 된다.

역할이라는 단어는 의미적으로 책임이라는 개념을 내포한다.
선생님이라는 역할은 학생을 가르칠 책임이 있음을 암시한다.

특정한 역할은 특정한 책임을 암시한다.
협력에 참여하며 특정한 역할을 수행하는 사람들은 역할에 적합한 책임을 수행하게 된다.
손님에게는 커피를 주문할 책임이 있다.
역할과 책임은 협력이 원할하게 진행되는데 필요한 핵심적인 구성요소다.

사람들이 협력을 위해 특정한 역할을 맡고 역할에 적합한 책임을 수행한다는 사실은 몇가지 중요한 개념을 제시한다.

- 여러 사람이 동일한 역할을 수행할 수 있다.
    - 손님 입장에서 자신이 주문한 커피를 마실 수만 있다면, 어떤 캐시어가 주문을 받는지는 중요하지 않다.
    - 만약 캐시어든지 카페테리아를 그만두면 캐시어라는 역할에 따르는 책임을 수행할 수 있는 다른 사람을 캐시어로 고용하면 된다.
    - 결국 책임을 성실히 이행할수 있다면 그만이다.
- 역할은 대체 가능성을 의미한다.
    - 손님 입장에서 캐시어는 대체 가능하다.
    - 두명이 동일한 역할을 수행할 수 있다면 요청자 잆장에서 둘중 어떤사람이 역할을 수행하더라도 문제가 되지 않는다.
- 책임을 수행하는 방법은 자율적으로 선택할 수 있따.
    - 요청을 받은 사람들은 요청을 처리하는 방법을 자유롭게 선택할 수 있다.
    - 중요한 것은 커피를 제조하는 동일한 요청을 받더라도 바리스타의 역할을 수행하는 사람들마다
    서로 다른 방식으로 요청을 처리할 수 있다.
    - 이러한 동일한 요청에 대해 서로 다른 방식으로 응답할수 있는 능력을 다형성 이라고 한다.
- 한 사람이 동시에 여러 역할을 수행할 수 있다.
    - 캐시어와 바리스타라는 개별적인 역할을 이용해 협력 관계를 묘사햇지만 한 사람이 캐시어와 바리스타의 역할을 동시에 수행하는것도 가능하다.
    - 현실속에 살아가는 우리는 모두 둘 이상의 역할을 수행한다.

## 역할 책임 협력

#### 기능을 구현하기 위해 협력하는 객체들